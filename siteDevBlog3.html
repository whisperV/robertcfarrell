<!DOCTYPE html>
<html lang="en">

  <head>
    
    <!-- Meta Tag -->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    
    <!-- SEO -->
    <!-- <meta name="description" content="150 words">
    <meta name="author" content="uipasta">
    <meta name="url" content="http://www.robertcfarrell.com">
    <meta name="copyright" content="company name">
    <meta name="robots" content="index,follow"> -->
    
    
    <title>TaxBlog</title>
    
    <!-- Favicon -->
    <!-- <link rel="shortcut icon" href="images/favicon/favicon.ico">
    <link rel="apple-touch-icon" sizes="144x144" type="image/x-icon" href="images/favicon/apple-touch-icon.png"> -->
    
    <!-- All CSS Plugins -->
    <link rel="stylesheet" type="text/css" href="plugin.css">
    
    <!-- Main CSS Stylesheet -->
    <link rel="stylesheet" type="text/css" href="style.css">
    <link rel="stylesheet" type="text/css" href="MyPage.css">
    
    <!-- Google Web Fonts  -->
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Poppins:400,300,500,600,700">
    <link href="https://fonts.googleapis.com/css?family=Faster+One" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Open+Sans" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Bitter" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Oswald" rel="stylesheet">
    <style>
      @import url('https://fonts.googleapis.com/css?family=Faster+One');
    </style>
    <style>
      @import url('https://fonts.googleapis.com/css?family=Cinzel+Decorative');
    </style>
    <style>
      @import url('https://fonts.googleapis.com/css?family=Merriweather');
    </style>


    <!-- Syntax Highlighter  -->
    <link rel="stylesheet" type="text/css" href="shCore.css">
    <link rel="stylesheet" type="text/css" href="shThemeDefault.css">
    
    
    <!-- HTML5 shiv and Respond.js support IE8 or Older for HTML5 elements and media queries -->
    <!--[if lt IE 9]>
	   <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
	   <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    

  </head>

 <body>

	
     
	 <!-- Preloader Start -->
     <div class="preloader">
	   <div class="rounder"></div>
      </div>
      <!-- Preloader End -->
      
      
    
    
    <div id="main">
        <div class="container">
            <div class="row">
            	 
                 <!-- Blog Post (Right Sidebar) Start -->
                 <div class="col-md-9 blogBackground2">
                    <div class="col-md-12 page-body">
                    	<div class="row">
                    		
                            
                            <div class="sub-title">
                           		<a href="index.html" title="Go to Home Page"><h2>Back Home</h2></a>
                                <!-- <a href="#comment" class="smoth-scroll"><i class="icon-bubbles"></i></a> -->
                             </div>
                            
                            
                            <div class="col-md-12 content-page">
                              <div class="col-md-12 blog-post">
                            	
                                
                                <!-- Post Headline Start -->
                                <div class="post-title">
                                    <h1>Site development updates Day 3</h1> 
                                   </div>
                                   <!-- Post Headline End -->
                                    
                                    
                                <!-- Post Detail Start -->
                                <div class="post-info">
                                    <span>August 8, 2017 / by <a href="http://www.robertcfarrell.com/index.html" target="_blank">Robert C. Farrell</a></span>
                                   </div>
                                   <!-- Post Detail End -->
                                    
                                  <p><strong><span class="firstLetterFirstPara">T</span></strong>oday was: Bug fix<strike>es</strike></p>
                                   
                                  <p class="newPara"><span class="firstLetter">T</span>he IRA contribution calculator was the focus today. Plus a page addition. </p>

                                  <h2>The work done today</h2>
                                  
                                  <p class="newPara"><span class="firstLetter">T</span>he calculator is working correctly under certain conditions at this time. It's not 100% yet, some of the options need to be coded, but the number of functions left to be written should be near 0. The rest of the code should be primarily calls to existing functions. Then styling changes, which I am looking forward to. While I do not consider myself an artist, creating a visual style is fun and so is messing around with CSS. I did not get nearly as much done on the calculator today as I would have liked. The big problem of the day was actually one of a few problems, and was picked because it was the biggest of the few which was solved. Some of the unsolved problems are with negative numbers being entered, zeroing out input fields if they are unselected and disabling inputs. I've mentally sketched out a few possible solutions to these, but solving the big problem of the day introduced a change in program flow. This change will make it easier to solve the rest of the issues, so it was worth the time investment.</p>  

                                  <p class="newPara"><span class="firstLetter">I</span> spent time talking to my parents today as well. I asked what they think about the site's progression, but they don't use the internet and "So, that's a website?" was the extent of the critique. I spent some time job hunting as well. The market seems less promising than it did earlier in the year, and I am hoping it will pick up in the fall. I might be considering a change of career as well. I've had more interviews that didn't materialize into positions than ever before. Pretty sure I dodged a bullet on a few of those, but noy working still sucks.</p>  

                                  <p class="newPara"><span class="firstLetter">A</span>nother page was added to the site today as well. It's just a separate blog for the development updates since they're coming along much quicker than tax related blog posts. Keeping the content separate adds to usability of the site, and makes updating easier too.</p>
                                  
                                  <h2>The Big Problem of the Day</h2>

                                  <p class="newPara"><span class="firstLetter">T</span>oday's big problem was zeroes. Specifically, what happens if someone had 0 MAGI, or even if their MAGI was less than their contribution limit. Another problem with a "why did it take me so long to figure that out" solution. The solution was simple, just set the limit to MAGI if limit is higher. The trick was making sure this limit propogated to anywhere else it was needed. The problem was with how I originally intended to use the general contribution limit. Since the limit if 5,500 per taxpayer, I figured a constant (or a variable with the names in caps) would work best, and then just add to subtract from this amount as needed. Just using a variable for the limit turned out to be easier though. The limit changed so often it was easier just assigning the new limit amount to the same limit variable than adding some unnecessary calculations just to maintain a general limit constant.</p>

                                  <p class="newPara"><span class="firstLetter">T</span>he solition to the big problem of the day was simple in the end, but getting to the point where a simple solution was <em>the</em> solution took a fair amount of work. It involved change the rearranging of much of the logic in the code. The original logic made decisions based on the values of the taxPayer object. This code snippet is a good example of the original code, new code, and to be implemented code: </p>

                                  <div class="margin-top-40 margin-bottom-40">  
                                   <pre class="brush: js">

                                      switch(obj.iraType){
                                        case('Roth'):

                                  //SINGLE HEAD OF HOUSEHOLD
                                          if((obj.filingStatus === "Single" || obj.filingStatus === "Head of Household") && obj.magi >= ROTH_MAX_S)
                                          {
                                            // excessContribCheck();

                                            $(".output").append("<li> Your AGI is above the limit for a Roth IRA. Your max contribution is 0.</li>"); 
                                          }
                                          else if((obj.filingStatus === "Single" || obj.filingStatus === "Head of Household") && obj.magi < ROTH_MIN_S)
                                          {
                                            $(".output").append("<li> " + excessContribCheck(madeContribs, contributionAmt) + " </li>"); 

                                        ... 
                                  </pre>
                                  </div>

                                  <p class="newPara"><span class="firstLetter">T</span>he switch is based on the IRA type since most of the difference arise there. Using a switch cut down on the nested ifs, but still involved a lot of if-elseif-else statements. The excessContribCheck function call was originally intended to be called only if IRA contributions have already been made. The actual max contribution amount was calculated within each of the if statements, like the code here:</p>

                                 <div class="margin-top-40 margin-bottom-40">  
                                   <pre class="brush: js">
                                  
                                    else if((obj.filingStatus === "Single" || obj.filingStatus === "Head of Household") && (obj.magi >= ROTH_MIN_S && obj.magi < ROTH_MAX_S))
                                          {
                                            rothM = parseFloat((obj.magi-ROTH_MIN_S)/15000);
                                            roundIt(rothM, 3);
                                            reduction = rothM*genLimit;
                                            contributionAmt = genLimit-reduction;
                                            contributionAmt = contributionAmt - madeContribs;
                                            $(".output").append("<li> You can contribute " + Math.round(contributionAmt) + " For 2017 </li>");
                                          } 
                                 </pre>
                                 </div>

                                  <p class="newPara"><span class="firstLetter">T</span>he actual contribution limit is determined after the filing status and MAGI check. If MAGI is in the phase out range, the math will be done to determine the maximum amount that can be contributed. This was done before adding the question about any IRA contributions already made, and that question introduced the check for excess contributions. The code above doesn't take into account already made contributions. The big change today was using the excessContribCheck function to calculate the contribution amount rather than doing it in the switch statement. This will allow the larger contribution calculation function to be trimmed down. A lot of the html could be cleaned up, but for now 'if it's working don't fix it.'</p>
                                                                               
                                  <!-- Post Author Bio Box Start -->
                                  <div class="about-author margin-top-70 margin-bottom-50">
                                    
                                    <div class="picture">
                                      <img src="http://i.imgur.com/HYV4nSy.png" alt="me.png" class="img-responsive" alt="">
                                     </div>
                                   
                                    <div class="c-padding">
                                       <h3>Update By <a href="#" target="_blank" data-toggle="tooltip" data-placement="top" title="">Robert C. Farrell</a></h3>
                                       <p></p>
                                      </div>
                                    </div>
                                    <!-- Post Author Bio Box End -->
                                    
                                  
                                  
                                    
                                </div>    
                             </div>
                              
                         </div>
                         
                        
                        
                                               
                           
                         </div>
                     
                     
                       
                       <!-- Footer Start -->
                       <div class="col-md-12 page-body margin-top-50 footer">
                          <footer>
                          <ul class="menu-link">
                               <li><a href="index.html">Home</a></li>
                               <li><a href="resume.html">About</a></li>
                               <li><a href="resume.html">Work</a></li>
                               <li><a href="resume.html">Contact</a></li>
                            </ul>
                            
                          <p>© Copyright 2017 Robert C. Farrell. All rights reserved</p>
						  
						  
						  <!-- UiPasta Credit Start -->
                          <div class="uipasta-credit">Design By <a href="http://www.uipasta.com" target="_blank">UiPasta</a></div>
                          <!-- UiPasta Credit End -->
						  
                           
                         </footer>
                       </div>
                       <!-- Footer End -->
                     
                     
                  </div>
                  <!-- Blog Post (Right Sidebar) End -->



              <!-- About Me (Left Sidebar) Start -->
                 <div class="col-md-3">
                   <div class="about-fixed">
                    
                     <div class="my-pic">
                        <img src="http://i.imgur.com/HYV4nSy.png" alt="me.png">
                        <a href="javascript:void(0)" class="collapsed" data-target="#menu" data-toggle="collapse"><i class="icon-menu menu"></i></a>
                         <div id="menu" class="collapse">
                           <ul class="menu-link">
                               <li><a href="resume.html">About</a></li>
                               <li><a href="resume.html">Resume</a></li>
                               <li><a href="resume.html">Contact</a></li>
                            </ul>
                         </div>
                        </div>
                      
                      
                      
                      <div class="my-detail">
                      
                        <div class="white-spacing">
                            <h1>Robert C. Farrell, JD, EA</h1>
                            <span></span>
                        </div> 
                       
                       <ul class="social-icon">
                         <li><a href="#" target="_blank" class="twitter"><i class="fa fa-twitter"></i></a></li>
                         <li><a href="#" target="_blank" class="linkedin"><i class="fa fa-linkedin"></i></a></li>
                         <li><a href="#" target="_blank" class="github"><i class="fa fa-github"></i></a></li>
                        </ul>

                    </div>
                  </div>
                </div>
                <!-- About Me (Left Sidebar) End -->


            </div>
         </div>
      </div>
    
    
    
     
     <!-- Endpage Box (Popup When Scroll Down) Start -->
     <!-- <div id="scroll-down-popup" class="endpage-box">
       <h4>Read Also</h4>
       <a href="#">How to make your company website based on bootstrap framework...</a>
      </div> -->
      <!-- Endpage Box (Popup When Scroll Down) End -->
      
    
    
    
    <!-- Back to Top Start -->
    <a href="#" class="scroll-to-top"><i class="fa fa-long-arrow-up"></i></a>
    <!-- Back to Top End -->
    
    
    <!-- All Javascript Plugins  -->
    <script type="text/javascript" src="jquery.min.js"></script>
    <script type="text/javascript" src="plugin.js"></script>
    
    <!-- Main Javascript File  -->
    <script type="text/javascript" src="scripts.js"></script>
    
    <!-- Syntax Highlighter Javascript File  -->
    <script type="text/javascript" src="shCore.js"></script>
    <script type="text/javascript" src="shBrushCss.js"></script>
    <script type="text/javascript" src="shBrushJScript.js"></script>
    <script type="text/javascript" src="shBrushPerl.js"></script>
    <script type="text/javascript" src="shBrushPhp.js"></script>
    <script type="text/javascript" src="shBrushPlain.js"></script>
    <script type="text/javascript" src="shBrushPython.js"></script>
    <script type="text/javascript" src="shBrushRuby.js"></script>
    <script type="text/javascript" src="shBrushSql.js"></script>
    <script type="text/javascript" src="shBrushVb.js"></script>
    <script type="text/javascript" src="shBrushXml.js"></script>
    
	<!-- Syntax Highlighter Call Function -->
	<script type="text/javascript">
		SyntaxHighlighter.config.clipboardSwf = 'clipboard.swf';
		SyntaxHighlighter.all();
	</script>

    
   </body>
 </html>
